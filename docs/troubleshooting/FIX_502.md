# Fix 502 Bad Gateway Error

## Quick Fix Steps (Run on Remote Server)

### 1. Check if backend is running:
```bash
docker ps | grep barcode-v2-backend
```

### 2. Test backend directly:
```bash
curl http://localhost:8034/healthz
```

### 3. If backend not responding, restart it:
```bash
cd ~/barcodegenpro-dev
docker compose restart backend
docker logs barcode-v2-backend --tail 50
```

### 4. Check if frontend can reach backend:
```bash
docker exec barcode-v2-frontend wget -q -O- http://backend:8034/healthz
```

### 5. Rebuild frontend with updated nginx config:
```bash
cd ~/barcodegenpro-dev
docker compose build frontend
docker compose up -d frontend
```

### 6. Verify nginx config in frontend container:
```bash
docker exec barcode-v2-frontend cat /etc/nginx/conf.d/default.conf | grep "proxy_pass"
```

Should show: `proxy_pass http://backend:8034/api/;`

### 7. Check nginx error logs:
```bash
docker logs barcode-v2-frontend --tail 50 | grep -i error
```

## Common Causes:

1. **Backend container down** - Restart it
2. **Wrong service name** - Should be `backend` not `barcode-v2-backend` in nginx config
3. **Network issue** - Containers not on same network
4. **Backend crashed** - Check logs
5. **Port not bound** - Verify `8034:8034` in docker-compose.yml

## All-in-One Fix:

```bash
cd ~/barcodegenpro-dev
docker compose restart backend
sleep 5
docker exec barcode-v2-backend curl -f http://localhost:8034/healthz || echo "Backend not responding"
docker compose build frontend
docker compose up -d frontend
```



